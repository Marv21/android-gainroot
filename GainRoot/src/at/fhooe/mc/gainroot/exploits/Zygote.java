package at.fhooe.mc.gainroot.exploits;

import at.fhooe.mc.gainroot.R;
import at.fhooe.mc.gainroot.essentials.Exploit;

public class Zygote extends Exploit {

	public Zygote() {
		super(R.raw.zygote_mod, 			//id
				"Zygote", 					//name
				"1.x - 2.x", 				//versions
				"The Android Exploid Crew",	//author
				"2009", 					//date 
				"zygote exploit\nhole source is not available, cant be used :(", //info
				null); 						//resources
	}

	@Override
	public void run() {
		return;
//		showProgressDialog(getName(), "gain root...\nZygote is running, this can take a while...");
//		Log.d(TAG, "test Zygote Exploit ...");
//		do{
//			try {
//				Runnable r = new Runnable() {
//					@Override
//					public void run() {
//						Log.d(TAG, "test Zygote Exploit ...");
//						try {
//							int val=0;
//							java.lang.Process proc = null;
//							proc = Runtime.getRuntime().exec(m_path + getResources().getResourceEntryName(getId()));
//							val = proc.waitFor();
//							Log.d(TAG, "zygote return: " + val);
//								
//							proc.destroy();
//							if(val==0){
//								finish(true);
//								return;
//							}
//							
////									showToast("congrats, you have now root!\nyou should reboot the device");
//						} catch (OutOfMemoryError me) {
//							Log.e(TAG, me.getMessage());
////									showAlertDialogZygote("Next Step", "restart Application and retry Zygote");
//						} catch (Exception e) {
//							Log.e(TAG, e.getMessage());
//							//its recommended to kill the process before retrying Zygote (jni fail?)
//							showDialog("Next Step", "restart Application and retry Zygote");
//							unlockScreen();
//						}
//					}
//				};
//				Thread t = new Thread(r);
//				Log.d(TAG, "start thread");
//				t.start();
//				Thread.sleep(2000);
//			} catch (OutOfMemoryError me) {
//				Log.e(TAG, me.getMessage());
//				Log.e(TAG, "out of memory");
//				showDialog("Next Step", "restart Application and retry Zygote"); 
//			} catch (Exception e) {
//				Log.e(TAG, "fail");
//				Log.e(TAG, e.getMessage());
//			}
//		}while(m_pd.isShowing());
//		finish(false);
	}
}
